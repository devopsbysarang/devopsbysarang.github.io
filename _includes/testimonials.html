<section class="testimonials-section" style="background-color: #0A192F; padding: 30px 0 0 0; color: #ffffff;">
  <div class="container" style="max-width: 1000px; margin: auto;">
    <h2 class="testimonials-heading" style="margin-bottom: 50px; margin-top: 20px; font-size: 2rem; text-align: center;">
      What people say?
    </h2>

    <div class="testimonials-wrapper" style="display: flex; gap: 25px; flex-wrap: wrap; padding: 0 20px; justify-content: center; margin-bottom: 60px;">
      <!-- Testimonial 1 -->
      <div class="testimonial" style="
        background-color: #0E4C5F;  /* fresh inner box color */
        padding: 30px 25px;
        border-radius: 12px;
        /* inline shadow present but will be overridden by CSS !important */
        box-shadow: 0 4px 15px rgba(0,0,0,0.3);
        flex: 1 1 300px;
        max-width: 450px;
        transition: transform 0.3s ease;
      ">
        <p style="font-size: 1rem; line-height: 1.6; margin-bottom: 15px; color: #ffffff !important;">
          "I highly recommend Sarang for any future endeavors, and I'm confident he will continue to shine in any role he's in and overcome any challenges he may face!"
        </p>
        <p class="testimonial-name">– Hariom Kashyap
          <span class="testimonial-role">Software Architect, Amdocs</span>
        </p>
      </div>

      <!-- Testimonial 2 -->
      <div class="testimonial" style="
        background-color: #0E4C5F;
        padding: 30px 25px;
        border-radius: 12px;
        box-shadow: 0 4px 15px rgba(0,0,0,0.3);
        flex: 1 1 300px;
        max-width: 450px;
        transition: transform 0.3s ease;
      ">
        <p style="font-size: 1rem; line-height: 1.6; margin-bottom: 15px; color: #ffffff !important;">
          "Sarang has always been a curious person. He is willing to take risks, make mistakes, and learn from them. He comes up with new ideas, never afraid of trying, and puts in the effort every time."
        </p>
        <p class="testimonial-name">– Ankur Singh
          <span class="testimonial-role">AI Engineer, Intel</span>
        </p>
      </div>
    </div>

    <!-- dots container will be injected here by JS if not present -->
    <!-- <div class="testimonials-dots"></div> -->
  </div>
</section>

<style>
/* --- general / desktop (keep look) --- */
.testimonials-section {
  background-color: #0A192F !important;
  color: #ffffff !important;
}

.container {
  max-width: 1000px !important;
  margin: 0 auto !important;
  padding: 0 20px !important;
}

/* Heading in cyan */
.testimonials-heading {
  color: #64FFDA !important;
  margin: 20px 0 50px !important;
  font-size: 2rem !important;
  text-align: center !important;
}

/* Ensure desktop wrapper layout (override inline) */
.testimonials-wrapper {
  display: flex !important;
  gap: 25px !important;
  flex-wrap: wrap !important;
  padding: 0 20px !important;
  justify-content: center !important;
  margin-bottom: 60px !important;
  position: relative !important; /* used for fades/dots */
}

/* Card base - remove shadows (override inline box-shadow) */
.testimonial {
  background-color: #0E4C5F !important;
  padding: 30px 25px !important;
  border-radius: 12px !important;
  flex: 1 1 300px !important;
  max-width: 450px !important;
  transition: transform 0.28s ease !important;
  box-shadow: none !important;      /* REMOVE all shadows */
  overflow: hidden !important;
  border: 2px solid rgba(100,255,218,0.08) !important;
  color: #ffffff !important;
}

/* remove any hover shadow, but keep a small lift */
.testimonial:hover {
  transform: translateY(-5px) !important;
  box-shadow: none !important;
}

/* Name in cyan */
.testimonial-name {
  font-weight: bold !important;
  color: #64FFDA !important;
  margin: 10px 0 0 0 !important;
  line-height: 1.4 !important;
}

/* Role / designation */
.testimonial-role {
  display: block !important;
  font-weight: normal !important;
  color: #ffffff !important;
  font-style: italic !important;
  margin: 3px 0 0 0 !important;
  line-height: 1.3 !important;
}

/* --- Dots (hidden on desktop) --- */
.testimonials-dots {
  display: none !important;
}

/* ---------- MOBILE: centered snap + dots (force with !important) ---------- */
@media (max-width: 768px) {
  .testimonials-wrapper {
    display: flex !important;
    flex-direction: row !important;
    gap: 15px !important;
    overflow-x: auto !important;
    -webkit-overflow-scrolling: touch !important;
    scroll-snap-type: x mandatory !important;
    flex-wrap: nowrap !important;
    /* center first/last card by padding = (100vw - cardWidth)/2 */
    padding: 0 10vw !important;
    position: relative !important;
  }

  .testimonial {
    flex: 0 0 80vw !important;           /* card width relative to viewport */
    min-width: 260px !important;
    max-width: 420px !important;
    box-sizing: border-box !important;
    scroll-snap-align: center !important; /* center each card */
    padding: 20px !important;
    border-radius: 12px !important;
    background-color: #0E4C5F !important;
    box-shadow: none !important;         /* ensure no shadow */
  }

  /* show dots on mobile */
  .testimonials-dots {
    display: flex !important;
    justify-content: center !important;
    gap: 10px !important;
    margin-top: 12px !important;
    margin-bottom: 18px !important;
    z-index: 12 !important;
    pointer-events: auto !important;
  }

  .testimonials-dots .dot {
    width: 8px !important;
    height: 8px !important;
    border-radius: 50% !important;
    background: rgba(255,255,255,0.18) !important;
    border: none !important;
    padding: 0 !important;
    cursor: pointer !important;
    transition: transform .18s ease, background .18s ease, opacity .18s ease !important;
    opacity: 0.95 !important;
  }

  .testimonials-dots .dot:focus {
    outline: 2px solid rgba(100,255,218,0.25) !important;
    outline-offset: 3px !important;
  }

  .testimonials-dots .dot.active {
    background: #64FFDA !important; /* cyan active dot */
    transform: scale(1.25) !important;
  }

  /* subtle side fades to hint scrollable content */
  .testimonials-wrapper::before,
  .testimonials-wrapper::after {
    content: "" !important;
    position: absolute !important;
    top: 0 !important;
    width: 40px !important;
    height: 100% !important;
    pointer-events: none !important;
    z-index: 10 !important;
  }

  .testimonials-wrapper::before {
    left: 0 !important;
    background: linear-gradient(to right, #0A192F, transparent) !important;
  }

  .testimonials-wrapper::after {
    right: 0 !important;
    background: linear-gradient(to left, #0A192F, transparent) !important;
  }

  /* Optional: nicer thin scrollbar for webkit (non-intrusive) */
  .testimonials-wrapper::-webkit-scrollbar {
    height: 6px !important;
  }
  .testimonials-wrapper::-webkit-scrollbar-thumb {
    background: rgba(255,255,255,0.06) !important;
    border-radius: 6px !important;
  }
}

/* slight spacing adjustments for mobile heading */
@media (max-width: 768px) {
  .testimonials-section {
    padding-top: 10px !important;
  }
  .testimonials-heading {
    margin-top: 10px !important;
    margin-bottom: 25px !important;
    text-align: center !important;
  }
}
</style>

<!-- Add this script before the closing </body> -->
<script>
document.addEventListener('DOMContentLoaded', function () {
  const wrapper = document.querySelector('.testimonials-wrapper');
  if (!wrapper) return;

  const cards = Array.from(wrapper.querySelectorAll('.testimonial'));
  if (!cards.length) return;

  // Create dots container and insert after wrapper if not present
  let dotsContainer = document.querySelector('.testimonials-dots');
  if (!dotsContainer) {
    dotsContainer = document.createElement('div');
    dotsContainer.className = 'testimonials-dots';
    wrapper.parentNode.insertBefore(dotsContainer, wrapper.nextSibling);
  }

  // Build dots
  dotsContainer.innerHTML = ''; // clear
  cards.forEach((card, i) => {
    const btn = document.createElement('button');
    btn.className = 'dot';
    btn.setAttribute('aria-label', `Show testimonial ${i + 1}`);
    btn.type = 'button';
    btn.addEventListener('click', () => {
      // smooth center this card
      card.scrollIntoView({ behavior: 'smooth', inline: 'center' });
    });
    dotsContainer.appendChild(btn);
  });

  const dots = Array.from(dotsContainer.children);

  // Update active dot by finding card closest to wrapper center
  function updateActiveDot() {
    const center = wrapper.scrollLeft + wrapper.clientWidth / 2;
    let minDiff = Infinity;
    let activeIndex = 0;

    cards.forEach((card, idx) => {
      const cardCenter = card.offsetLeft + card.offsetWidth / 2;
      const diff = Math.abs(center - cardCenter);
      if (diff < minDiff) {
        minDiff = diff;
        activeIndex = idx;
      }
    });

    dots.forEach((d, i) => d.classList.toggle('active', i === activeIndex));
  }

  // Initial set after layout settle
  setTimeout(updateActiveDot, 120);

  // Throttled update on scroll
  let raf = null;
  wrapper.addEventListener('scroll', () => {
    if (raf) cancelAnimationFrame(raf);
    raf = requestAnimationFrame(updateActiveDot);
  });

  window.addEventListener('resize', updateActiveDot);
  window.addEventListener('orientationchange', () => setTimeout(updateActiveDot, 200));
});
</script>
