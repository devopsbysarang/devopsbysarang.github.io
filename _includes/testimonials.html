<section class="testimonials-section" style="background-color: #0A192F; padding: 30px 0 0 0; color: #ffffff;">
  <div class="container" style="max-width: 1000px; margin: auto; position: relative;">
    <h2 class="testimonials-heading" style="margin-bottom: 50px; margin-top: 20px; font-size: 2rem; text-align: center;">
      What people say?
    </h2>

    <div class="testimonials-wrapper" style="display: flex; gap: 25px; flex-wrap: wrap; padding: 0 20px; justify-content: center; margin-bottom: 60px;">
      <!-- Testimonial 1 -->
      <div class="testimonial" style="
        background-color: #0E4C5F;
        padding: 30px 25px;
        border-radius: 12px;
        box-shadow: 0 4px 15px rgba(0,0,0,0.3);
        flex: 1 1 300px;
        max-width: 450px;
        transition: transform 0.3s ease;
      ">
        <p style="font-size: 1rem; line-height: 1.6; margin-bottom: 15px; color: #ffffff !important;">
          "I highly recommend Sarang for any future endeavors, and I'm confident he will continue to shine in any role he's in and overcome any challenges he may face!"
        </p>
        <p class="testimonial-name">– Hariom Kashyap
          <span class="testimonial-role">Software Architect, Amdocs</span>
        </p>
      </div>

      <!-- Testimonial 2 -->
      <div class="testimonial" style="
        background-color: #0E4C5F;
        padding: 30px 25px;
        border-radius: 12px;
        box-shadow: 0 4px 15px rgba(0,0,0,0.3);
        flex: 1 1 300px;
        max-width: 450px;
        transition: transform 0.3s ease;
      ">
        <p style="font-size: 1rem; line-height: 1.6; margin-bottom: 15px; color: #ffffff !important;">
          "Sarang has always been a curious person. He is willing to take risks, make mistakes, and learn from them. He comes up with new ideas, never afraid of trying, and puts in the effort every time."
        </p>
        <p class="testimonial-name">– Ankur Singh
          <span class="testimonial-role">AI Engineer, Intel</span>
        </p>
      </div>
    </div>

    <!-- dots container will be injected here by JS if not present -->
    <!-- <div class="testimonials-dots"></div> -->
  </div>
</section>

<style>
/* ---------- General / Desktop ---------- */
.testimonials-section {
  background-color: #0A192F !important;
  color: #ffffff !important;
}

.container {
  max-width: 1000px !important;
  margin: 0 auto !important;
  padding: 0 20px !important;
  position: relative !important; /* needed for absolutely positioned dots if used */
}

.testimonials-heading {
  color: #64FFDA !important;
  margin: 20px 0 50px !important;
  font-size: 2rem !important;
  text-align: center !important;
}

/* Ensure wrapper default layout (override inline) */
.testimonials-wrapper {
  display: flex !important;
  gap: 25px !important;
  flex-wrap: wrap !important;
  padding: 0 20px !important;
  justify-content: center !important;
  margin-bottom: 60px !important;
  position: relative !important;
}

/* Card base - remove shadows (override inline box-shadow) */
.testimonial {
  background-color: #0E4C5F !important;
  padding: 30px 25px !important;
  border-radius: 12px !important;
  flex: 1 1 300px !important;
  max-width: 450px !important;
  transition: transform 0.28s ease !important;
  box-shadow: none !important; /* remove inline shadow */
  overflow: hidden !important;
  border: 2px solid rgba(100,255,218,0.08) !important;
  color: #ffffff !important;
}

.testimonial:hover {
  transform: translateY(-4px) !important;
  box-shadow: none !important;
}

.testimonial-name {
  font-weight: bold !important;
  color: #64FFDA !important;
  margin: 10px 0 0 0 !important;
  line-height: 1.4 !important;
}

.testimonial-role {
  display: block !important;
  font-weight: normal !important;
  color: #ffffff !important;
  font-style: italic !important;
  margin: 3px 0 0 0 !important;
  line-height: 1.3 !important;
}

/* hide desktop dots by default */
.testimonials-dots {
  display: none !important;
}

/* ---------- MOBILE: centered snap + dots (force overrides) ---------- */
@media (max-width: 768px) {
  /* CSS variable defines card width; tweak if needed */
  .testimonials-wrapper {
    --card-w: 80vw !important; /* card width relative to viewport */
    /* make wrapper full-bleed so padding calculations use viewport */
    width: 100vw !important;
    max-width: 100vw !important;
    margin-left: calc(50% - 50vw) !important; /* center full-bleed wrapper */
    display: flex !important;
    flex-direction: row !important;
    gap: 15px !important;
    overflow-x: auto !important;
    -webkit-overflow-scrolling: touch !important;
    scroll-snap-type: x mandatory !important;
    flex-wrap: nowrap !important;
    /* center first/last by calculating padding from viewport card width */
    padding-left: calc((100vw - var(--card-w)) / 2) !important;
    padding-right: calc((100vw - var(--card-w)) / 2) !important;
    position: relative !important;
    scroll-behavior: smooth !important;
  }

  /* slightly larger card for very small phones */
  @media (max-width: 420px) {
    .testimonials-wrapper { --card-w: 90vw !important; }
  }

  .testimonial {
    flex: 0 0 var(--card-w) !important;
    width: var(--card-w) !important;
    min-width: 240px !important;
    max-width: 95vw !important;
    box-sizing: border-box !important;
    scroll-snap-align: center !important; /* center each card */
    padding: 20px !important;
    border-radius: 12px !important;
    background-color: #0E4C5F !important;
    box-shadow: none !important;
  }

  /* show dots on mobile and move them closer to cards */
  .testimonials-dots {
    display: flex !important;
    justify-content: center !important;
    gap: 10px !important;
    margin-top: -22px !important; /* pull dots up closer to the cards */
    margin-bottom: 8px !important;
    z-index: 20 !important;
    pointer-events: auto !important;
    position: relative !important;
  }

  /* larger dots for visibility */
  .testimonials-dots .dot {
    width: 10px !important;
    height: 10px !important;
    border-radius: 50% !important;
    background: rgba(255,255,255,0.18) !important;
    border: none !important;
    padding: 0 !important;
    cursor: pointer !important;
    transition: transform .18s ease, background .18s ease, opacity .18s ease !important;
    opacity: 0.98 !important;
  }

  .testimonials-dots .dot:focus {
    outline: 2px solid rgba(100,255,218,0.25) !important;
    outline-offset: 3px !important;
  }

  .testimonials-dots .dot.active {
    background: #64FFDA !important;
    transform: scale(1.3) !important;
  }

  /* minimal thin scrollbar for webkit (optional, non-intrusive) */
  .testimonials-wrapper::-webkit-scrollbar { height: 6px !important; }
  .testimonials-wrapper::-webkit-scrollbar-thumb {
    background: rgba(255,255,255,0.06) !important;
    border-radius: 6px !important;
  }

  /* heading spacing tweaks */
  .testimonials-section { padding-top: 10px !important; }
  .testimonials-heading {
    margin-top: 10px !important;
    margin-bottom: 25px !important;
    text-align: center !important;
  }
}
</style>

<!-- Place this script before the closing </body> -->
<script>
document.addEventListener('DOMContentLoaded', function () {
  const wrapper = document.querySelector('.testimonials-wrapper');
  if (!wrapper) return;

  const cards = Array.from(wrapper.querySelectorAll('.testimonial'));
  if (!cards.length) return;

  // Create or reuse dots container and insert after wrapper
  let dotsContainer = document.querySelector('.testimonials-dots');
  if (!dotsContainer) {
    dotsContainer = document.createElement('div');
    dotsContainer.className = 'testimonials-dots';
    wrapper.parentNode.insertBefore(dotsContainer, wrapper.nextSibling);
  }

  // Build dots
  dotsContainer.innerHTML = '';
  cards.forEach((card, i) => {
    const btn = document.createElement('button');
    btn.className = 'dot';
    btn.setAttribute('aria-label', `Show testimonial ${i + 1}`);
    btn.type = 'button';
    btn.addEventListener('click', () => {
      // smooth center this card
      card.scrollIntoView({ behavior: 'smooth', inline: 'center' });
      // small delay to update active dot
      setTimeout(() => updateActiveDot(), 260);
    });
    dotsContainer.appendChild(btn);
  });

  const dots = Array.from(dotsContainer.children);

  // Update active dot by finding card closest to wrapper center
  function updateActiveDot() {
    const center = wrapper.scrollLeft + wrapper.clientWidth / 2;
    let minDiff = Infinity;
    let activeIndex = 0;

    cards.forEach((card, idx) => {
      const cardCenter = card.offsetLeft + card.offsetWidth / 2;
      const diff = Math.abs(center - cardCenter);
      if (diff < minDiff) {
        minDiff = diff;
        activeIndex = idx;
      }
    });

    dots.forEach((d, i) => d.classList.toggle('active', i === activeIndex));
  }

  // Initial set after layout settles
  setTimeout(updateActiveDot, 140);

  // Throttled update on scroll
  let raf = null;
  wrapper.addEventListener('scroll', () => {
    if (raf) cancelAnimationFrame(raf);
    raf = requestAnimationFrame(updateActiveDot);
  });

  window.addEventListener('resize', updateActiveDot);
  window.addEventListener('orientationchange', () => setTimeout(updateActiveDot, 200));
});
</script>
