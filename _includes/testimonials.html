<section class="testimonials-section" style="background-color: #0A192F; padding: 30px 0; color: #ffffff;">
  <div class="container" style="max-width: 1000px; margin: auto; position: relative;">
    <h2 class="testimonials-heading">
      What people say?
    </h2>

    <div class="testimonials-wrapper">
      <div class="testimonial">
        <p>
          "I highly recommend Sarang for any future endeavors, and I'm confident he will continue to shine in any role he's in and overcome any challenges he may face!"
        </p>
        <p class="testimonial-name">– Hariom Kashyap
          <span class="testimonial-role">Software Architect, Amdocs</span>
        </p>
      </div>

      <div class="testimonial">
        <p>
          "Sarang has always been a curious person. He is willing to take risks, make mistakes, and learn from them. He comes up with new ideas, never afraid of trying, and puts in the effort every time."
        </p>
        <p class="testimonial-name">– Ankur Singh
          <span class="testimonial-role">AI Engineer, Intel</span>
        </p>
      </div>
    </div>

    <div class="testimonials-dots"></div>
  </div>
</section>

<style>
.testimonials-heading {
  color: #64FFDA !important;
  text-align: center !important;
  margin: 20px 0 50px !important;
  font-size: 2rem !important;
}

.testimonials-wrapper {
  display: flex;
  gap: 25px;
  flex-wrap: wrap;
  justify-content: center;
  margin-bottom: 30px;
}

.testimonial {
  background-color: #0E4C5F !important;
  padding: 30px 25px;
  border-radius: 12px;
  flex: 1 1 300px;
  max-width: 450px;
  color: #ffffff;
  border: 2px solid rgba(100,255,218,0.08);
}

.testimonial-name {
  font-weight: bold;
  color: #64FFDA;
  margin: 10px 0 0 0;
  line-height: 1.4;
}

.testimonial-role {
  display: block;
  font-weight: normal;
  color: #ffffff;
  font-style: italic;
  margin: 3px 0 0 0;
  line-height: 1.3;
}

/* Mobile horizontal scroll */
@media (max-width: 768px) {
  .testimonials-wrapper {
    flex-wrap: nowrap !important;
    overflow-x: auto !important;
    scroll-snap-type: x mandatory;
    padding-inline: 10px; /* keeps cards centered with padding */
  }

  .testimonial {
    flex: 0 0 80% !important;
    scroll-snap-align: center;
    min-width: 240px;
    max-width: 90%;
  }

  /* Dots below cards naturally */
  .testimonials-dots {
    display: flex;
    justify-content: center;
    gap: 10px;
    margin-top: 10px;
    margin-bottom: 20px;
  }

  .testimonials-dots .dot {
    width: 10px;
    height: 10px;
    border-radius: 50%;
    background: rgba(255,255,255,0.18);
    cursor: pointer;
  }

  .testimonials-dots .dot.active {
    background: #64FFDA;
    transform: scale(1.3);
  }
}
</style>

<script>
document.addEventListener('DOMContentLoaded', function () {
  const wrapper = document.querySelector('.testimonials-wrapper');
  const cards = Array.from(wrapper.querySelectorAll('.testimonial'));
  const dotsContainer = document.querySelector('.testimonials-dots');

  if (!wrapper || !cards.length || !dotsContainer) return;

  // Build dots
  dotsContainer.innerHTML = '';
  cards.forEach((card, i) => {
    const btn = document.createElement('button');
    btn.className = 'dot';
    btn.type = 'button';
    btn.addEventListener('click', () => {
      card.scrollIntoView({ behavior: 'smooth', inline: 'center' });
      setTimeout(updateActiveDot, 260);
    });
    dotsContainer.appendChild(btn);
  });
  const dots = Array.from(dotsContainer.children);

  function getActiveIndex() {
    const center = wrapper.scrollLeft + wrapper.clientWidth / 2;
    let minDiff = Infinity;
    let activeIndex = 0;
    cards.forEach((card, idx) => {
      const cardCenter = card.offsetLeft + card.offsetWidth / 2;
      const diff = Math.abs(center - cardCenter);
      if (diff < minDiff) { minDiff = diff; activeIndex = idx; }
    });
    return activeIndex;
  }

  function updateActiveDot() {
    const activeIndex = getActiveIndex();
    dots.forEach((d, i) => d.classList.toggle('active', i === activeIndex));
  }

  // Initial center
  setTimeout(() => {
    cards[0].scrollIntoView({ behavior: 'auto', inline: 'center' });
    updateActiveDot();
  }, 80);

  wrapper.addEventListener('scroll', () => {
    requestAnimationFrame(updateActiveDot);
  });

  window.addEventListener('resize', () => {
    const idx = getActiveIndex();
    cards[idx].scrollIntoView({ behavior: 'auto', inline: 'center' });
    updateActiveDot();
  });
});
</script>
