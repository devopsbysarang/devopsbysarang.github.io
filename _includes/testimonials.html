<section class="testimonials-section" style="background-color: #0A192F; padding: 30px 0 0 0; color: #ffffff;">
  <div class="container" style="max-width: 1000px; margin: auto; position: relative;">
    <h2 class="testimonials-heading" style="margin-bottom: 50px; margin-top: 20px; font-size: 2rem; text-align: center;">
      What people say?
    </h2>

    <div class="testimonials-wrapper">
      <!-- Testimonial 1 -->
      <div class="testimonial">
        <p>
          "I highly recommend Sarang for any future endeavors, and I'm confident he will continue to shine in any role he's in and overcome any challenges he may face!"
        </p>
        <p class="testimonial-name">– Hariom Kashyap
          <span class="testimonial-role">Software Architect, Amdocs</span>
        </p>
      </div>

      <!-- Testimonial 2 -->
      <div class="testimonial">
        <p>
          "Sarang has always been a curious person. He is willing to take risks, make mistakes, and learn from them. He comes up with new ideas, never afraid of trying, and puts in the effort every time."
        </p>
        <p class="testimonial-name">– Ankur Singh
          <span class="testimonial-role">AI Engineer, Intel</span>
        </p>
      </div>

      <!-- Add more testimonials as needed -->
    </div>

    <!-- Dots container will be injected by JS -->
    <div class="testimonials-dots"></div>
  </div>
</section>

<style>
/* ---------- General ---------- */
html, body {
  height: 100% !important;
  margin: 0 !important;
  padding: 0 !important;
}

.testimonials-heading {
  color: #64FFDA !important;
  margin: 20px 0 50px !important;
  font-size: 2rem !important;
  text-align: center !important;
}

.testimonials-wrapper {
  display: flex !important;
  gap: 25px !important;
  flex-wrap: wrap !important;
  justify-content: center !important;
  margin-bottom: 60px !important;
  position: relative !important;
  box-sizing: border-box !important;
}

.testimonial {
  background-color: #0E4C5F !important;
  padding: 30px 25px !important;
  border-radius: 12px !important;
  flex: 1 1 300px !important;
  max-width: 450px !important;
  color: #ffffff !important;
  transition: transform 0.28s ease !important;
  box-shadow: none !important;
  border: 2px solid rgba(100,255,218,0.08) !important;
}

.testimonial-name {
  font-weight: bold !important;
  color: #64FFDA !important;
  margin: 10px 0 0 0 !important;
  line-height: 1.4 !important;
}

.testimonial-role {
  display: block !important;
  font-weight: normal !important;
  color: #ffffff !important;
  font-style: italic !important;
  margin: 3px 0 0 0 !important;
  line-height: 1.3 !important;
}

/* ---------- Mobile: horizontal scroll + dots ---------- */
@media (max-width: 768px) {
  .testimonials-wrapper {
    --card-w: 80vw !important;
    width: 100vw !important;
    max-width: 100vw !important;
    display: flex !important;
    flex-direction: row !important;
    gap: 15px !important;
    overflow-x: auto !important;
    -webkit-overflow-scrolling: touch !important;
    scroll-snap-type: x mandatory !important;
    flex-wrap: nowrap !important;
    padding-left: calc((100vw - var(--card-w)) / 2) !important;
    padding-right: calc((100vw - var(--card-w)) / 2) !important;
    scroll-padding-inline: calc((100vw - var(--card-w)) / 2) !important;
    scroll-behavior: smooth !important;
  }

  @media (max-width: 420px) {
    .testimonials-wrapper { --card-w: 90vw !important; }
  }

  .testimonial {
    flex: 0 0 var(--card-w) !important;
    width: var(--card-w) !important;
    min-width: 240px !important;
    max-width: 95vw !important;
    scroll-snap-align: center !important;
    padding: 20px !important;
  }

  /* Dots container */
  .testimonials-dots {
    display: flex !important;
    justify-content: center !important;
    gap: 10px !important;
    position: absolute !important;
    bottom: 10px !important; /* adjust vertical position */
    left: 50% !important;
    transform: translateX(-50%) !important;
    z-index: 50 !important;
  }

  .testimonials-dots .dot {
    width: 10px !important;
    height: 10px !important;
    border-radius: 50% !important;
    background: rgba(255,255,255,0.18) !important;
    border: none !important;
    padding: 0 !important;
    cursor: pointer !important;
    transition: transform .18s ease, background .18s ease, opacity .18s ease !important;
    opacity: 0.98 !important;
  }

  .testimonials-dots .dot.active {
    background: #64FFDA !important;
    transform: scale(1.3) !important;
  }

  .testimonials-wrapper::-webkit-scrollbar { height: 6px !important; }
  .testimonials-wrapper::-webkit-scrollbar-thumb {
    background: rgba(255,255,255,0.06) !important;
    border-radius: 6px !important;
  }
}
</style>

<script>
document.addEventListener('DOMContentLoaded', function () {
  const wrapper = document.querySelector('.testimonials-wrapper');
  const cards = Array.from(wrapper.querySelectorAll('.testimonial'));
  const dotsContainer = document.querySelector('.testimonials-dots');

  if (!wrapper || !cards.length || !dotsContainer) return;

  // Build dots
  dotsContainer.innerHTML = '';
  cards.forEach((card, i) => {
    const btn = document.createElement('button');
    btn.className = 'dot';
    btn.type = 'button';
    btn.setAttribute('aria-label', `Show testimonial ${i + 1}`);
    btn.addEventListener('click', () => {
      card.scrollIntoView({ behavior: 'smooth', inline: 'center' });
      setTimeout(updateActiveDot, 260);
    });
    dotsContainer.appendChild(btn);
  });
  const dots = Array.from(dotsContainer.children);

  function getActiveIndex() {
    const center = wrapper.scrollLeft + wrapper.clientWidth / 2;
    let minDiff = Infinity;
    let activeIndex = 0;
    cards.forEach((card, idx) => {
      const cardCenter = card.offsetLeft + card.offsetWidth / 2;
      const diff = Math.abs(center - cardCenter);
      if (diff < minDiff) { minDiff = diff; activeIndex = idx; }
    });
    return activeIndex;
  }

  function updateActiveDot() {
    const activeIndex = getActiveIndex();
    dots.forEach((d, i) => d.classList.toggle('active', i === activeIndex));
  }

  function centerInitialCard() {
    const idx = getActiveIndex() || 0;
    cards[idx].scrollIntoView({ behavior: 'auto', inline: 'center' });
    setTimeout(updateActiveDot, 80);
  }

  setTimeout(centerInitialCard, 80);

  let raf = null;
  wrapper.addEventListener('scroll', () => {
    if (raf) cancelAnimationFrame(raf);
    raf = requestAnimationFrame(updateActiveDot);
  });

  let resizeTimeout = null;
  function handleResize() {
    if (resizeTimeout) clearTimeout(resizeTimeout);
    resizeTimeout = setTimeout(() => {
      const ai = getActiveIndex();
      cards[ai].scrollIntoView({ behavior: 'auto', inline: 'center' });
      updateActiveDot();
    }, 120);
  }

  window.addEventListener('resize', handleResize);
  window.addEventListener('orientationchange', handleResize);
});
</script>
